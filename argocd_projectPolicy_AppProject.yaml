apiVersion: argoproj.io/v1alpha1
kind: AppProject
metadata:
  name: sample-project
  namespace: argocd
spec:
  description: sample-project project
  sourceRepos:
    - '*'
  destinations:
    - namespace: '*'
      server: '*'
  clusterResourceWhitelist:
    - group: '*'
      kind: '*'
  roles:
  # A role which provides read-only access to all applications in the project
    - name: viewer
      description: Read-only privileges to sample-project
      policies:
        - p, proj:sample-project:viewer, applications, get, sample-project/*, allow
    - name: editor
      description: Edit privileges to sample-project applications
      policies:
        - p, proj:sample-project:editor, applications, create, sample-project/*, allow
        - p, proj:sample-project:editor, applications, update, sample-project/*, allow
        - p, proj:sample-project:editor, applications, delete, sample-project/*, allow
        - p, proj:sample-project:editor, applications, sync, sample-project/*, allow
        - g, proj:sample-project:editor, proj:sample-project:viewer